(this["webpackJsonpcircle-detect"]=this["webpackJsonpcircle-detect"]||[]).push([[0],{18:function(e,t,a){e.exports=a(30)},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){e.exports=a.p+"static/media/loading.bb533f76.gif"},30:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(3),i=a.n(o),r=(a(23),a(7)),l=a(8),s=a(11),d=a(10),m=(a(24),a(44)),u=function(){return c.a.createElement("div",{className:"loading"},c.a.createElement("img",{className:"loadingImg",src:a(25),alt:"loading"}),c.a.createElement("span",null,"Loading resources"))},v=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).circleDetect=function(){n.setState({detecting:!0});var e=cv.imread("output"),t=e.clone(),a=new cv.Mat;cv.cvtColor(e,e,cv.COLOR_RGBA2GRAY),cv.HoughCircles(e,a,cv.HOUGH_GRADIENT,1,45,75,40,0,0);for(var c=0;c<a.cols;++c){var o=a.data32F[3*c],i=a.data32F[3*c+1],r=a.data32F[3*c+2],l=new cv.Point(o,i);cv.circle(t,l,r,[255,0,0,255],3)}cv.imshow("output",t),e.delete(),t.delete(),a.delete()},n.clearCanvas=function(){var e=cv.imread("image");cv.imshow("output",e),n.setState({detecting:!1})},n.onChangeHandler=function(e){n.setState({image:URL.createObjectURL(e.target.files[0])}),document.getElementById("detect").style.visibility="visible"},n.onLoadHandler=function(e){var t=cv.imread(e.target.id);cv.imshow("output",t)},n.state={image:null,detecting:!1},n}return Object(l.a)(a,[{key:"render",value:function(e){return c.a.createElement("div",null,c.a.createElement("label",{className:"upload",htmlFor:"uploadPhoto"},c.a.createElement("input",{id:"uploadPhoto",className:"uploadPhoto",type:"file",accept:"image/*",onChange:this.onChangeHandler}),c.a.createElement(m.a,{color:"primary",variant:"contained",component:"span"},"Upload Image")),c.a.createElement("div",{className:"detect",id:"detect"},c.a.createElement(m.a,{color:"primary",disabled:this.state.detecting,variant:"contained",onClick:this.circleDetect},"Detect Circles"),c.a.createElement(m.a,{color:"primary",variant:"contained",onClick:this.clearCanvas},"Clear")),c.a.createElement("div",{className:"images"},c.a.createElement("img",{className:"image",id:"image",src:this.state.image,onLoad:this.onLoadHandler}),c.a.createElement("canvas",{className:"output",id:"output"})))}}]),a}(c.a.Component),p=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onScriptLoad=function(){n.setState({cvLoaded:!0})},n.state={cvLoaded:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.script=document.createElement("script"),this.script.src="https://docs.opencv.org/4.4.0/opencv.js",this.script.async=!0,this.script.onload=function(){return e.onScriptLoad()},document.body.appendChild(this.script)}},{key:"componentWillUnmount",value:function(){this.setState({cvLoaded:!1})}},{key:"render",value:function(){return c.a.createElement("div",{className:"app"},this.state.cvLoaded?c.a.createElement(v,{cvLoaded:this.state.cvLoaded}):c.a.createElement(u,null))}}]),a}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.6a08a348.chunk.js.map